
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>component: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/noritama73/go_object_oriented_development/internal/component/player.go (100.0%)</option>
				
				<option value="file1">github.com/noritama73/go_object_oriented_development/internal/component/status.go (40.9%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package component

type Player struct {
        Name        string
        Type        PlayerType
        Status      Status
        Weapon      Weapon
        ArmorOnArm  ArmorOnArm
        ArmorOnBody ArmorOnBody
        Parameter   Parameter
}

func NewPlayer(playerType PlayerType) *Player <span class="cov8" title="1">{
        return &amp;Player{
                Type:        playerType,
                Status:      *InitStatusByPlayerType(playerType),
                Weapon:      EmptyWeapon,
                ArmorOnArm:  EmptyArmorOnArm,
                ArmorOnBody: EmptyArmorOnBody,
                Parameter:   *NewParameter(),
        }
}</span>

type PlayerType struct {
        Name     string
        BasicHP  int
        BasicATK int
        BasicDEF int
        BasicMP  int
        BasicAGI int
}

var (
        PlayerTypeWarrior = PlayerType{
                Name:     "WARRIOR",
                BasicHP:  500,
                BasicATK: 100,
                BasicDEF: 0,
                BasicMP:  0,
                BasicAGI: 20,
        }
        PlayerTypeWizard = PlayerType{
                Name:     "WIZARD",
                BasicHP:  200,
                BasicATK: 50,
                BasicDEF: 0,
                BasicMP:  100,
                BasicAGI: 10,
        }
)

func InitStatusByPlayerType(player PlayerType) *Status <span class="cov8" title="1">{
        return &amp;Status{
                LEVEL{
                        StatusInfo{
                                ACTUAL: InitialLEVEL(),
                                MIN:    1,
                                MAX:    100,
                        },
                },
                HP{
                        StatusInfo{
                                ACTUAL: InitialHP(player),
                                MIN:    1,
                                MAX:    999,
                        },
                },
                ATK{
                        StatusInfo{
                                ACTUAL: InitialATK(player),
                                MIN:    0,
                                MAX:    100,
                        },
                },
                DEF{
                        StatusInfo{
                                ACTUAL: InitialDEF(player),
                                MIN:    0,
                                MAX:    100,
                        },
                },
                MP{
                        StatusInfo{
                                ACTUAL: InitialMP(player),
                                MIN:    0,
                                MAX:    100,
                        },
                },
                AGI{
                        StatusInfo{
                                ACTUAL: InitialAGI(player),
                                MIN:    0,
                                MAX:    100,
                        },
                },
        }
}</span>

type Condition string

const (
        ConditionHealthy  Condition = "HEALTHY"
        ConditionDead     Condition = "DEAD"
        ConditionPoisoned Condition = "POISONED"
        ConditionBurned   Condition = "BURNED"
)

type Parameter struct {
        HasWeapon      bool
        HasArmorOnArm  bool
        HasArmorOnBody bool
        Condition      Condition
}

func NewParameter() *Parameter <span class="cov8" title="1">{
        return &amp;Parameter{
                HasWeapon:      false,
                HasArmorOnArm:  false,
                HasArmorOnBody: false,
                Condition:      ConditionHealthy,
        }
}</span>
</pre>
		
		<pre class="file" id="file1" style="display: none">package component

type Status struct {
        LEVEL LEVEL
        HP    HP
        ATK   ATK
        DEF   DEF
        MP    MP
        AGI   AGI
}

type LEVEL struct {
        StatusInfo
}

type HP struct {
        StatusInfo
}

type ATK struct {
        StatusInfo
}

type DEF struct {
        StatusInfo
}

type MP struct {
        StatusInfo
}

type AGI struct {
        StatusInfo
}

func (s Status) GetLEVEL() int <span class="cov8" title="1">{
        return s.LEVEL.StatusInfo.ACTUAL
}</span>

func (s Status) GetHP() int <span class="cov0" title="0">{
        return s.HP.StatusInfo.ACTUAL
}</span>

func (s Status) GetATK() int <span class="cov0" title="0">{
        return s.ATK.StatusInfo.ACTUAL
}</span>

func (s Status) GetDEF() int <span class="cov0" title="0">{
        return s.DEF.StatusInfo.ACTUAL
}</span>

func (s Status) GetMP() int <span class="cov0" title="0">{
        return s.MP.StatusInfo.ACTUAL
}</span>

func (s Status) GetAGI() int <span class="cov0" title="0">{
        return s.AGI.StatusInfo.ACTUAL
}</span>

type StatusIface interface {
        Validate()
        Add()
        Sub()
        Mul()
}

type StatusInfo struct {
        MIN    int
        MAX    int
        ACTUAL int
}

func (sc StatusInfo) Validate() int <span class="cov0" title="0">{
        if sc.ACTUAL &lt; sc.MIN </span><span class="cov0" title="0">{
                return sc.MIN
        }</span>
        <span class="cov0" title="0">if sc.MAX &lt; sc.ACTUAL </span><span class="cov0" title="0">{
                return sc.MAX
        }</span>

        <span class="cov0" title="0">return sc.ACTUAL</span>
}

func (sc StatusInfo) Add(a int) int <span class="cov0" title="0">{
        return sc.ACTUAL + a
}</span>

func (sc StatusInfo) Sub(s int) int <span class="cov0" title="0">{
        return sc.ACTUAL - s
}</span>

func (sc StatusInfo) Mul(m int) int <span class="cov0" title="0">{
        return sc.ACTUAL * m
}</span>

func InitialLEVEL() int <span class="cov8" title="1">{
        return 1
}</span>

func InitialHP(p PlayerType) int <span class="cov8" title="1">{
        level := InitialLEVEL()
        base := p.BasicHP
        return base*level/100 + level + 10
}</span>

func InitialATK(p PlayerType) int <span class="cov8" title="1">{
        return p.BasicATK
}</span>

func InitialDEF(p PlayerType) int <span class="cov8" title="1">{
        return p.BasicDEF
}</span>

func InitialMP(p PlayerType) int <span class="cov8" title="1">{
        return p.BasicMP
}</span>

func InitialAGI(p PlayerType) int <span class="cov8" title="1">{
        return p.BasicAGI
}</span>
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
